# StratisSign Smart Contract

## Overview

The StratisSign application expresses a workflow of agreement signing using digital signature. It enables to store notarization detail of an agreement on a blockchain which makes it tamper-proof and essay traceable.

## Create the Contract

**Hash**

``` text
670c04380046011d5c8d7e00bd81301522a1347d625c0e77cdf1388921ac0453
```

**ByteCode**

```text
4D5A90000300000004000000FFFF0000B800000000000000400000000000000000000000000000000000000000000000000000000000000000000000800000000E1FBA0E00B409CD21B8014CCD21546869732070726F6772616D2063616E6E6F742062652072756E20696E20444F53206D6F64652E0D0D0A2400000000000000504500004C0102005D379BF50000000000000000E00022200B013000000E00000002000000000000662C0000002000000040000000000010002000000002000004000000000000000400000000000000006000000002000000000000030040850000100000100000000010000010000000000000100000000000000000000000142C00004F000000000000000000000000000000000000000000000000000000004000000C000000F82B00001C0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000200000080000000000000000000000082000004800000000000000000000002E746578740000006C0C000000200000000E000000020000000000000000000000000000200000602E72656C6F6300000C000000004000000002000000100000000000000000000000000000400000420000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000482C0000000000004800000002000500E8220000100900000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000220203280600000A2A3602280700000A036F0100002B2A4E02280700000A037B01000004036F0200002B2AA202280700000A7201000070037B07000004037B080000048C08000001280A00000A036F0300002B2A7602280700000A720100007003048C08000001280A00000A6F0400002B2A0000133003004F0000000100001102020328020000067B01000004280B00000A721D000070280C00000A021200FE15030000021200037D010000041200047D02000004120002280D00000A6F0E00000A7D03000004062803000006172A0013300300B100000001000011020328020000060A02067B01000004280B00000A16FE017251000070280C00000A02067B0300000402280D00000A6F0E00000A280F00000A7287000070280C00000A067B040000042D1C1200178D080000017D04000004067B040000041604A4080000012B4202067B040000048E6918FE0472A5000070280C00000A12007C04000004067B040000048E6917D6280500002B067B04000004067B040000048E6917DA04A40800000102062803000006172A00000013300400CC00000002000011020328020000060A02067B01000004280B00000A16FE017251000070280C00000A02067B0600000416FE0172DF000070280C00000A0202067B0400000402280D00000A6F0E00000A28090000067217010070280C00000A021201FE15040000021201067B010000047D07000004120102280D00000A6F0E00000A7D080000041201047D09000004120102281100000A6F1200000A7D0A00000407280400000612007C05000004254A17D654067B040000048E69067B0500000433081200177D0600000402062803000006172A133002002100000003000011160A2B150306A30800000104280F00000A2C02172A0617D60A06038E6932E5162A00000042534A4201000100000000000C00000076342E302E33303331390000000005006C000000E8020000237E0000540300002C03000023537472696E677300000000800600007C01000023555300FC0700001000000023475549440000000C0800000401000023426C6F62000000000000000200000157150200090A000000FA0133001600000100000010000000040000000A000000090000000E00000012000000050000000300000001000000020000000200000005000000000079010100000000000600EB00260206002A0126020600D70013020F00460200000A001A0179020A00970279020A008B0079020A0071027902060081008B010A000B0179020A00B200790206004F018B010600A5028B010A005E007902060009038B010A0068017902000000000100000000000100010001001000AA0100001900010001000A011000EE020000250001000A000A011000C2010000250007000A00060036008900060056018900060007028C000600690290000600730095000600390098000600210089000600F9018C000600920189000600D9019B0050200000000086180D02100001005920000000008600DE029E0002006720000000008100EB02A40003007B20000000008100BF01AA000400A420000000008600B601B0000500C420000000008600C002B800070020210000000086005502BE000900E021000000008600D002B8000B00B8220000000081004200C5000D00000001009F00000001005B0000000100F80200000100C801000001002D00000002000002000001002D00000002005F01000001002D00000002000002000001002D00000002009E0100000100600200000200F00109000D02010011000D02060019000D020A0029000D02060051000D02060031000D0210003100C30016005900AC021B005900B6022700610090022F0061001B034000310002034500310067004B007100E501500041000F035500790048015D0031006F0173008100CE01780021002B00FF002E000B00CE002E001300D7002E001B00F60043002300FF003B006C007C000480000000000000000000000000000000009702000004000000000000000000000080000A00000000000100020001000000000000000000790200000000030002000400020011002200130022001300360011003600210067000000003C4D6F64756C653E0053797374656D2E507269766174652E436F72654C69620041677265656D656E7449640061677265656D656E7449640049735369676E656400436865636B5265717565737465645369676E6572497356616C696400494D657373616765006765745F4D65737361676500546F74616C5369676E446F6E650056616C7565547970650049536D617274436F6E7472616374537461746500736D617274436F6E74726163745374617465004950657273697374656E745374617465006765745F50657273697374656E7453746174650044656275676761626C6541747472696275746500436F6D70696C6174696F6E52656C61786174696F6E7341747472696275746500496E646578417474726962757465004465706C6F794174747269627574650052756E74696D65436F6D7061746962696C69747941747472696275746500526573697A6500537472696E670046696C65486173680066696C65486173680049426C6F636B006765745F426C6F636B00536D617274436F6E74726163742E646C6C0053797374656D004469676974616C5369676E006469676974616C5369676E00537472617469735369676E004765745374616D70005365745374616D70007374616D70006765745F4E756D62657200426C6F636B4E756D626572006765745F53656E646572007265717565737465645369676E6572007369676E6572004F776E6572002E63746F720053797374656D2E446961676E6F73746963730053797374656D2E52756E74696D652E436F6D70696C6572536572766963657300446562756767696E674D6F646573004164645369676E6572730061677265656D656E745369676E657273004164647265737300537472617469732E536D617274436F6E74726163747300466F726D617400536D617274436F6E7472616374004F626A65637400476574537472756374005365745374727563740043726561746541677265656D656E74005369676E41677265656D656E740047657441677265656D656E740053657441677265656D656E740061677265656D656E7400417373657274004172726179006F705F457175616C6974790049734E756C6C4F72456D70747900000000001B7300740061006D0070003A007B0030007D003A007B0031007D000033410067007200650065006D0065006E007400200061006C0072006500610064007900200065007800690073007400730021000035410067007200650065006D0065006E007400200064006F006500730020006E006F00740020006500780069007300740073002100001D41007300730065007200740020006600610069006C00650064002E0000394F006E006C0079002000740077006F0020007300690067006E006500720073002000610072006500200061006C006C006F007700650064000037410067007200650065006D0065006E007400200069007300200061006C007200650061006400790020007300690067006E0065006400006152006500710075006500730074006500640020007300690067006E006500720020006900730020006E006F0074002000760061006C0069006400200066006F007200200074006800690073002000610067007200650065006D0065006E0074000000000012ACA8A4501BF541A6451040AE6796B30004200101080320000105200101111105200101121D042000122D063001011E000E040A01110C07300102010E1E000600030E0E1C1C040A011110040701110C040001020E05200201020E0420001239042000112107000202112111210910010201101D1E0008040A011121060702110C111004200012410320000B03070108087CEC85D7BEA7798E02060E0306112104061D112102060802060202060B052001110C0E05200101110C05200101111007200211100E1121052002020E0E062002020E1121082002021D112111210801000800000000001E01000100540216577261704E6F6E457863657074696F6E5468726F7773010801000200000000000401000000000000000000000000000000100000000000000000000000000000003C2C00000000000000000000562C0000002000000000000000000000000000000000000000000000482C0000000000000000000000005F436F72446C6C4D61696E006D73636F7265652E646C6C0000000000FF25002000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002000000C000000683C00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
```
## User Roles

1.Owner <br>
2.Signer

User roles are agreement specific, meaning that the role of a user is different for different agreements. For example, Jonh is an owner of the NDA document, but for a sales contract, he would be a signer.

## Methods

### Create Agreement

Any user can create an agreement with a unique id and agreement file hash. It sets the agreement detail in the contract state with id as a key. The agreement could be an NDA, a sales contract, an employment offer letter, etc.

### Add Signers
The owner of the agreement can add other parties (from whom the owner expected to sign) as signers. As per current development, only two signers are allowed to add per agreement.

### Get Agreement Details

To get agreement details from the contracts state, make a local call of `GetAgreement`

```
public struct Agreement
{
    [Index]
    public string Id;
    public string FileHash;
    public Address Owner;
    public string SignedFileHash;
    public Address[] Signers;
    public Int32 TotalSignDone;
    public bool IsSigned;
}
```

### Sign Agreement
Signers of the agreement can sign using this method. The method stores the digital signature along with signer details to the contract state.

```
public struct Stamp
{
    public string AgreementId;

    public Address Signer;

    public string DigitalSign;

    public ulong BlockNumber;
}
```

Once all signers signed the agreement, the sign status `IsSigned` of the agreement will be updated to true.

### Get Sign Information

The method `GetStamp` helps to retrieve the sign information from the contract sate. To execute the method, you need to pass the agreement id along with the signer wallet address.

